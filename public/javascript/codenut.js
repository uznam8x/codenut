!function(e){"use strict";window.Codenut={$dom:e(document),page:{src:"",structure:""},generate:{element:function(e,t){var r=document.createElement(t);return r.setAttribute("data-codenut-path",e+"/"+t),r.setAttribute("data-codenut-uuid",Codenut.util.uuid()),r}},util:{uuid:function(){var e=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)})}},xml:{get:function(e,t){return"string"==typeof e&&(e=(new DOMParser).parseFromString(e,"application/xml")),t?e.documentElement.querySelector(t):e}},convert:{format:{html:function(t,r){return e("#tree-html-template")[0].innerHTML.replace(/{{nodeName}}/g,t)},xml:function(t,r){return e("#tree-xml-template")[0].innerHTML.replace(/{{nodeName}}/g,t)}},o2d:{attribute:function(e){var t=" ";for(var r in e)t+=r+'="'+e[r]+'" ';return t},property:function(e){for(var t={},r=0,n=e.length;r<n;r++)t[e[r].nodeName]=e[r].nodeValue;return JSON.stringify(t)}},x2h:function(e,t){t||(t="");var r=function(e,t){for(var n="",o=0,a=e.children.length;o<a;o++){var l="";l=Codenut.convert.format.html(e.children[o].nodeName),e.children[o].children.length&&(l=l.replace(/{{children}}/g,r(e.children[o],t+"/"+e.children[o].nodeName)));var u=e.children[o].attributes;u.length&&(l=l.replace(/{{attribute}}/g,Codenut.convert.o2d.property(u))),n+=l}return n.replace(/{{attribute}}/g,"")};return r(e,t).replace(/{{children}}/g,"")},h2x:function(e,t){var r=function(e){for(var t="",n=0,o=e.children.length;n<o;n++){var a=e.children[n].querySelector(".treemenu__action > .treemenu__action__label").textContent,l=Codenut.convert.format.xml(a);e.children[n].querySelector("ul").children.length&&(l=l.replace(/{{children}}/g,r(e.children[n].querySelector("ul"))));var u=JSON.parse(e.children[n].querySelector(".storage").textContent);u&&(l=l.replace(/{{attribute}}/g,Codenut.convert.o2d.attribute(u))),t+=l}return t},n=Codenut.convert.format.xml(e).replace(/{{children}}/g,r(t).replace(/{{children}}/g,"")).replace(/{{attribute}}/g,"");return(new DOMParser).parseFromString(n,"application/xml")}},event:{nav:{show:"nav_show",update:"nav_update"},page:{show:"page_show",update:"page_update",create:"page_create"},modal:{open:"modal_open",close:"model_close"},setting:{dom:"setting_dom",structure:"setting_structure"},tree:{click:{label:"tree_click_label"},update:"tree_update"}}}}(jQuery),function(){"use strict";var e={};Codenut.modal={controller:{},register:function(t,r){e[t]=r},close:function(t){$(e[t].$el).remove(),e[t].$destroy(),e[t]=null,delete e[t],Object.keys(e).length||$("body").removeClass("modal--open"),Codenut.$dom.trigger({type:Codenut.event.modal.close,uuid:t})}}}();