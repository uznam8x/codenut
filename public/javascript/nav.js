!function(t){"use strict";Codenut.$dom.on(Codenut.event.nav.update,function(e){var n=Codenut.convert.h2x("nav",t("#navigate .sortable")[0]);axios.post("/api/nav/update",{nav:n.documentElement.outerHTML}).then(function(t){}).catch(function(t){console.log(t)})})}(jQuery),function(t){"use strict";new Vue({el:"#navigate",data:{name:"navigate",model:{}},mounted:function(){var t=this;axios.get("/api/nav/show").then(function(e){e=Codenut.xml.get(e.data);var n=Codenut.xml.get(e,"code").textContent;200===parseInt(n)&&(t.model=Codenut.xml.get(e,"data > nav"))}).catch(function(t){console.log(t)})},methods:{prompt:function(t){var e=prompt("File name","");e&&this.addChild(e)},view:function(t){Codenut.$dom.trigger({type:Codenut.event.page.show,param:"/"})},addChild:function(t){var e=this.model.getAttribute("data-codenut-path")||"",n=Codenut.generate.element(e,t);this.model.appendChild(n),this.$forceUpdate(),Codenut.$dom.trigger({type:Codenut.event.tree.update,param:e+"/"+t,name:"navigate"})}}});Codenut.$dom.on(Codenut.event.tree.click.label,function(t){if("navigate"!==t.name)return!1;Codenut.$dom.trigger({type:Codenut.event.page.show,param:t.param})}),Codenut.$dom.on(Codenut.event.tree.update,function(t){if("navigate"!==t.name)return!1;Codenut.$dom.trigger({type:Codenut.event.page.create,param:t.param})})}(jQuery),function(){"use strict";Codenut.modal.controller.navigate={data:{storage:{},attribute:[]},methods:{add:function(){this.attribute.push({key:"",value:""})},remove:function(){console.log("remove")},save:function(){var t=$(this.currentTarget).parent().find(".storage")[0],e=t.textContent,n=JSON.parse(e);for(var a in n)a.indexOf("codenut")>-1&&this.attribute.push({key:a,value:n[a]});for(var o={},u=0,r=this.attribute.length;u<r;u++)o[this.attribute[u].key]=this.attribute[u].value;t.textContent=JSON.stringify(o),Codenut.$dom.trigger({type:Codenut.event.nav.update}),Codenut.modal.close(this.uuid)}},mounted:function(){$(this.currentTarget);var t=$(this.currentTarget).parent().find(".storage")[0].textContent,e=JSON.parse(t),n=[],a=[];for(var o in e)-1===o.indexOf("codenut")?n.push({key:o,value:e[o]}):a.push({key:o,value:e[o]});this.storage=a,this.attribute=n}}}();