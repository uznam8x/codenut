!function(t){"use strict";var e={codemirror:{lineNumbers:!0,lineWrapping:!0,theme:"eclipse",styleActiveLine:!0,matchBrackets:!0,selectionPointer:!0,tabSize:4}};Codenut.modal.controller.setting={data:{editor:""},methods:{save:function(){var t=this.editor.getValue();t=t.replace(/<body[^>]*>((.|[\n\r])*)<\/body>/g,""),axios.post("/api/dom/update",{content:t}).then(function(t){t=Codenut.xml.get(t.data);var e=Codenut.xml.get(t,"code").textContent;parseInt(e)}).catch(function(t){console.log(t)})},view:function(o){var n=t("#"+this.uuid+" .codemirror-textarea");n[0].textContent=o.outerHTML;var a={name:"htmlmixed",scriptTypes:[{matches:/\/x-handlebars-template|\/x-mustache/i,mode:null},{matches:/(text|application)\/(x-)?vb(a|script)/i,mode:"vbscript"}]};this.editor=CodeMirror.fromTextArea(n[0],t.extend({},e.codemirror,{mode:a}))}},mounted:function(){var t=this;axios.get("/api/dom/show").then(function(e){e=Codenut.xml.get(e.data);var o=Codenut.xml.get(e,"code").textContent;200===parseInt(o)&&t.view(Codenut.xml.get(e,"data > html"))}).catch(function(t){console.log(t)})}}}(jQuery);